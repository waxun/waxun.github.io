<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript">
		window.onload = function(){
			// 重用代码:
			// 1、尽量保证HTML代码结构一致，可以通过父级选取子元素
			// 2、把核心主程序实现，用函数包起来
			// 3、把每组里不同的值找出来，通过传参实现
			var oUl = document.getElementById("list");
			var aLi = oUl.getElementsByTagName("li");
			
			// fn(aLi[0]);
			// fn(aLi[1]);
			// fn(aLi[2]);
			for(var i=0;i<aLi.length;i++){
				fn(aLi[i]);
			}
			function fn(oLi){
				var aBtn = oLi.getElementsByTagName("input");
				var oStr = oLi.getElementsByTagName("strong")[0];
				var oEm = oLi.getElementsByTagName("em")[0];
				var oSpan = oLi.getElementsByTagName("span")[0];
				var n1 = Number(oStr.innerHTML);
				var n2 = parseFloat(oEm.innerHTML);
				aBtn[0].onclick = function(){
					n1--;//可以进行隐士转换
					if(n1<0){
						n1 = 0;
					}
					oStr.innerHTML = n1;
					oSpan.innerHTML = n1*n2+"元";
				}
				aBtn[1].onclick = function(){
					n1++;//可以进行隐士转换
					oStr.innerHTML = n1;
					oSpan.innerHTML = n1*n2+"元";
				}
			}
		}
	</script>
</head>
<body>
	<ul id="list">
		<li>
			<input type="button" value="-"/>
			<strong>0</strong>
			<input type="button" value="+"/>
			单价:<em>12.5元</em>
			小计：<span>0元</span>
		</li>
		<li>
			<input type="button" value="-"/>
			<strong>0</strong>
			<input type="button" value="+"/>
			单价:<em>12.5元</em>
			小计：<span>0元</span>
		</li>
		<li>
			<input type="button" value="-"/>
			<strong>0</strong>
			<input type="button" value="+"/>
			单价:<em>12.5元</em>
			小计：<span>0元</span>
		</li>
	</ul>
</body>
</html>